create or replace function jogositvany_ervenyesseg(p_sofor_id number)
return varchar is

v_sofor_nev varchar(40);
begin
  begin
    select s.nev into v_sofor_nev from sofor s where s.sofor_id = p_sofor_id;
    
           exception
              when no_data_found then
              raise_application_error(pkg_exception_jogositvany_ervenyesseg.gc_sofor_not_found_exc_code,
                                 'Nem található ilyen nevû sofõr.');
  end;
  
  return v_sofor_nev;
end;
/
